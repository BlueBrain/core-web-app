import {
  stimulusTypeParams,
  stimulusModuleParams,
  recordingVariableNameParams,
  recordingTypeParams,
  recordingSectionParams,
} from '@/constants/experiment-designer';
import { ExpDesignerConfig } from '@/types/experiment-designer';

const defaultTarget = 'AAA';
const defaultDuration = 4000;

const config: ExpDesignerConfig = {
  setup: [
    {
      id: 'duration',
      name: 'Duration',
      type: 'number',
      value: defaultDuration,
      unit: 'ms',
      min: 0,
      max: 20000,
      step: 1000,
    },
    {
      id: 'timeStep',
      name: 'Time step',
      type: 'number',
      value: 0.1,
      unit: 'ms',
      min: 0,
      max: 10,
      step: 0.1,
    },
    {
      id: 'forwardSkip',
      name: 'Forward skip',
      type: 'number',
      value: 5000,
      unit: 'ms',
      min: 0,
      max: 20000,
      step: 1000,
    },
    {
      id: 'seed',
      name: 'Seed',
      type: 'number',
      value: 1,
      min: 1,
      max: 10,
      step: 1,
      unit: '#',
    },
    {
      id: 'calciumConcentration',
      name: 'Calcium concentration',
      type: 'range',
      value: {
        min: 0,
        max: 2,
        start: 0.8,
        end: 1.1,
        step: 0.1,
        stepper: {
          name: 'Number of steps',
          value: 2,
        },
      },
      unit: 'mmol',
    },
    {
      id: 'simulatedNeurons',
      name: 'Simulated neurons',
      type: 'targetDropdown',
      value: defaultTarget,
    },
  ],
  input: [
    {
      id: 'input1',
      name: 'input1',
      type: 'group',
      value: [
        {
          id: 'spikes',
          name: 'Spikes',
          type: 'dropdown',
          value: 'Whiskers stimulus',
          options: [{ label: 'Whiskers stimulus', value: 'Whiskers stimulus' }],
        },
        {
          id: 'duration',
          name: 'Duration',
          type: 'number',
          value: defaultDuration,
          unit: 'ms',
          min: 0,
          max: 20000,
          step: 1000,
        },
        {
          id: 'targetInput',
          name: 'Target',
          type: 'targetDropdown',
          value: defaultTarget,
        },
      ],
    },
  ],
  stimuli: [
    {
      id: 'stimulus1',
      name: 'stimulus1',
      type: 'group',
      value: [
        structuredClone(stimulusTypeParams),
        structuredClone(stimulusModuleParams),
        {
          id: 'delay',
          name: 'Delay',
          type: 'number',
          value: 0,
          unit: 'ms',
          min: 0,
          max: 2000,
          step: 100,
        },
        {
          id: 'duration',
          name: 'Duration',
          type: 'number',
          value: defaultDuration,
          unit: 'ms',
          min: 0,
          max: 20000,
          step: 1000,
        },
        {
          id: 'node_set',
          name: 'Target',
          type: 'targetDropdown',
          value: defaultTarget,
        },
        {
          id: 'amp_start',
          name: 'AmpStart',
          type: 'number',
          value: 0.0351,
          unit: 'nA',
          min: 0,
          max: 2,
          step: 0.01,
        },
        {
          id: 'amp_end',
          name: 'AmpEnd',
          type: 'number',
          value: 0.0351,
          unit: 'nA',
          min: 0,
          max: 2,
          step: 0.01,
        },
      ],
    },
    {
      id: 'stimulus2',
      name: 'stimulus2',
      type: 'group',
      value: [
        structuredClone(stimulusTypeParams),
        structuredClone(stimulusModuleParams),
        {
          id: 'delay',
          name: 'Delay',
          type: 'number',
          value: 0,
          unit: 'ms',
          min: 0,
          max: 2000,
          step: 100,
        },
        {
          id: 'duration',
          name: 'Duration',
          type: 'number',
          value: defaultDuration,
          unit: 'ms',
          min: 0,
          max: 20000,
          step: 1000,
        },
        {
          id: 'node_set',
          name: 'Target',
          type: 'targetDropdown',
          value: defaultTarget,
        },
        {
          id: 'amp_start',
          name: 'AmpStart',
          type: 'number',
          value: 0.35,
          unit: 'nA',
          min: 0,
          max: 2,
          step: 0.01,
        },
        {
          id: 'amp_end',
          name: 'AmpEnd',
          type: 'number',
          value: 0.0351,
          unit: 'nA',
          min: 0,
          max: 2,
          step: 0.01,
        },
      ],
    },
  ],
  recording: [
    {
      id: 'recording1',
      name: 'recording1',
      type: 'group',
      value: [
        structuredClone(recordingVariableNameParams),
        structuredClone(recordingSectionParams),
        structuredClone(recordingTypeParams),
        {
          id: 'start_time',
          name: 'Start time',
          type: 'number',
          value: 0,
          unit: 'ms',
          min: 0,
          max: 20000,
          step: 500,
        },
        {
          id: 'end_time',
          name: 'Duration',
          type: 'number',
          value: defaultDuration,
          unit: 'ms',
          min: 0,
          max: 20000,
          step: 1000,
        },
        {
          id: 'dt',
          name: 'Dt',
          type: 'number',
          value: 0.1,
          unit: 'ms',
          min: 0,
          max: 100,
          step: 0.1,
        },
        {
          id: 'cells',
          name: 'Target',
          type: 'targetDropdown',
          value: defaultTarget,
        },
      ],
    },
  ],
  imaging: [
    {
      id: 'cameraPos',
      name: 'Camera position',
      type: 'position',
      value: [-17970.783508199806, -17086.701412939885, -19588.70241470358],
    },
    {
      id: 'cameraTarget',
      name: 'Camera target',
      type: 'position',
      value: [6612.504, 3938.164, 5712.791],
      hidden: true,
    },
    {
      id: 'cameraUp',
      name: 'Camera up vector',
      type: 'position',
      value: [0, 0, 1],
      hidden: true,
    },
    {
      id: 'cameraHeight',
      name: 'Camera viewport height',
      type: 'number',
      value: 1080,
      min: 10,
      max: 10000,
      unit: '',
      step: 10,
      hidden: true,
    },
    {
      id: 'neuronDisplay',
      name: 'Neuron Display',
      type: 'radioButton',

      options: ['As point', 'Dendrites', 'Axon + Dendrites'],
      value: 'As point',
    },
    {
      id: 'neuronActivity',
      name: 'Activity',
      type: 'radioButton',
      options: ['Spikes', 'Voltage'],
      value: 'Spikes',
    },
  ],
  analysis: [
    {
      id: 'raster',
      name: 'Spike Raster',
      type: 'targetDropdownGroup',
      value: [defaultTarget],
    },
    {
      id: 'psth',
      name: 'PSTH',
      type: 'targetDropdownGroup',
      value: [defaultTarget],
    },
    {
      id: 'voltage',
      name: 'Voltage Report',
      type: 'targetDropdownGroup',
      value: [defaultTarget],
    },
    {
      id: 'localFieldPotential',
      name: 'Local Field Potential (coming soon)',
      type: 'group',
      value: [
        {
          id: 'lfpTarget1',
          name: 'Population',
          type: 'targetDropdown',
          value: defaultTarget,
          disabled: true,
        },
        {
          id: 'plots',
          name: 'Plots',
          type: 'checkboxGroup',
          value: [
            {
              id: 'spectrum',
              name: 'Spectrum',
              type: 'checkbox',
            },
            {
              id: 'trace',
              name: 'Trace',
              type: 'checkbox',
            },
          ],
          disabled: true,
        },
        {
          id: 'start',
          name: 'Start time',
          type: 'number',
          value: 0,
          unit: 'ms',
          min: 0,
          max: 20000,
          step: 1000,
          disabled: true,
        },
        {
          id: 'end',
          name: 'End time',
          type: 'number',
          value: 300,
          unit: 'ms',
          min: 0,
          max: 20000,
          step: 100,
          disabled: true,
        },
      ],
    },
  ],
};

export default config;
